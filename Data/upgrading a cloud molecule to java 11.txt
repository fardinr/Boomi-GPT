use atom management to upgrade a cloud molecule to java 11. before you begin when you download and run the upgrade wizard to upgrade your cloud molecule to a new version of java, the wizard gives you the option to use either the boomi-provided jdk or your own managed java jdk from which your container will run. if you choose to use the boomi-provided jdk (11.0.18.10), a private copy of the full jdk is automatically downloaded to your local jre directory for your cloud to use and your runtime container is updated to use the newest version of java 11.note: upon upgrading, the upgrader relocates your existing jre to a new directory called jre_backup, and replaces the contents of the original jre directory with the new java 11 jdk. however, choosing your own custom jdk allows you to select and use your own distributed version of java 11 jdk in which your upgraded container will run. if you choose to use your own distribution of amazon corretto java 11 and not one provided by boomi, you must install the java 11 jdk before you can upgrade a cloud molecule to use java 11. you can download the java 11.0.18.10.1 jdk here. if you do not use the boomi-provided jdk, you must run the upgrader and specify the external jdk functionality during the upgrade wizard process. neglecting to do so causes the atom cloud to fail at start up.caution: for atom clouds with forked execution enabled, custom security policies must be manually modified to work with java 11. only boomi high security policies are automatically updated. failure to modify custom security policies may prevent the atom cloud from executing processes after the upgrade is complete. about this task important: only the node that runs upgrades (typically the head node) is automatically restarted to run the updated java version. all other nodes within the cluster must be restarted to also take the upgrade. note: for linux, if you choose not to use the gui to upgrade your atom cloud, use the console mode option (-c) of the install4j installer. procedureoptional: if you previously upgraded to a new java version, copy the full <installation_directory>/jre directory and the full install4j folder to different locations before running the upgrader. in the integration user interface, navigate to manage > atom management. select the atom cloud that you want to upgrade and click atom information. click update to use java <version number> from the atom controls options. a confirmation dialog opens showing which upgrade program you chose to download. if you see cloud_upgrade64.exe, this means that you are upgrading a 64-bit cloud molecule for windows. if you are upgrading a 64-bit cloud molecule for linux, the file is named cloud_upgrade64.sh. click save file. prior to running the upgrader, ensure all cloud nodes are stopped. the upgrade to java 11 requires changes to the executable file. for security reasons, windows prevents running executables from being modified. if nodes are kept running, the upgrade fails. locate and run the file that you downloaded. if you are using windows or the linux gui, run the file and follow the wizard to complete the required steps. for linux, if you want to run the installer in console mode from a command line, run the file with the -c flag: sh /<path>/cloud_upgrade64.sh -c follow the prompts, which take you to step 8. on the welcome to the cloud upgrade wizard screen, click next. on the select the directory containing the cloud screen, do one of the following: if you are using windows or the linux gui, on the select the directory containing the cloud page click browse, locate and select the directory in which the cloud molecule is installed, then click next. if you are using the linux command line, type the path to the cloud molecule installation directory. make sure the upgrade program completes successfully, then skip to the last step. on the choose the installation directory jre or an external jdkpage, select one of the following: switch the preferred jre to atom installation's jre directory updates your cloud molecule with boomi's latest version of java and changes the location in the pref_jre.cfg file. the pref_jre.cfg file contains the path to the jre that the cloud molecule will use. do not make changes to the preferred jre updates your atom with boomi's latest version of java but does not change the location in the pref_jre.cfg file. the pref_jre.cfg file contains the path to the jre that the cloud molecule uses currently. use external jdk for preferred jre uses a custom distributed version of amazon corretto 11. click browse next to specify the external jdk location and locate the folder of the external jdk that you want to use. note: for switch the preferred jre to atom installation's jre directory and do not make changes to the preferred jre, if the cloud molcule is currently using the jre directory, the new java version is downloaded into the jre_backup folder, otherwise the new java version is downloaded into the jre directory. click next. on the migrate certificates screen, do one of the following: if you do not want to migrate custom certificates automatically, click next without making changes. if you want to migrate custom certificates automatically, turn on the migrate existing custom certificates automatically box and click browse to locate the folder containing the jdk that your atom cloud is using. then, click next. note: the certificates that can be migrated during this step are located in the /lib/security/cacerts directory. the upgrade program stops your cloud molecule and then upgrades it. if the upgrade is successful, you see a completion message along with the cloud moleculeâ€™s name and the path to its preferred jdk. the wizard begins upgrading your selected container according to the preferences you have set earlier in this topic. when the wizard completes successfully, click finish. resultsyour atom cloud is now successfully upgraded to a newer version of java 11. to see that the upgrade is successful, view the java version field in manage > atom management > startup properties panel for your selected container. next steps important: only the node that runs upgrades (typically the head node) is automatically restarted to run the updated java version. all other nodes within the cluster must be restarted to also take the upgrade.