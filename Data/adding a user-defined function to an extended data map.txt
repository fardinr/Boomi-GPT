create and add extensible user-defined functions within extended data maps. before you beginextensible user-defined map functions allow you to link multiple standard function steps in a defined sequence to perform sophisticated transformations between profile fields in an extended data map. use the following steps to add extensible user-defined functions to an existing map extension.user-defined functions that are created via this method exist only at the environment extension level and are tied only to a single map extension. a given function may be reused within a single map extension but cannot be used across multiple maps within an integration pack or across environments.important: the environment map extension user defined function api object (which represents the actions detailed in this task) and other environment map extension api objects require the client to know the id of the environment map extension. in the user-defined function interface, click copy eme id to easily copy this id for use in your api requests. procedure in manage > atom management, select an environment from the list on the left. click the environment extensions link. click on the data maps tab, then select an extensible map from the data maps dropdown. in the opened map, click in the functions column. the add a function dialog opens. the user defined category is selected by default. do one of the following: to create a new, extensible user-defined function, click the create new function icon, then proceed to the next step. to add an existing user-defined function, select a folder from the functions folder tree and click ok. proceed to step 15. a new tab opens which is named new map function. enter a name for the function. click in the steps column. the add a function dialog opens. select a category and a standard function type, then click ok. in the configure defaults dialog, enter default values, and select a caching option if desired. click ok. the new function is added to the steps column. to add another function step, repeat steps 5-9. to remove an unwanted step in the function, click the trash icon on that step. in the inputs column, click . enter a name and click ok. in the outputs column, click . enter a name and click ok. drag and drop the function input to the first function step. drag and drop the first step's result to the next step. repeat as needed to link additional steps. drag and drop the last step's result to the function output. the lines define the step order in which the function is executed. the example below shows a two-step function. the input is linked to step 1, step 1 is linked to step 2, and step 2 is linked to the output. click save and close. the function appears in the data map. to map through your new user-defined function, drag and drop fields from your source profile into your functions inputs and then from your function outputs to your destination profile. note: padding is added to profile elements with short names to make it easier to specify the elements as destinations for mappings. as a result, the line connecting the source element to the destination element may not extend to the start of the destination profile name. click save. after creating or adding a user-defined function to an extended map, use the , , and icons to edit and delete functions or function steps, respectively. resultsthe values indicated in your user-defined function take precedence over process-level map configurations at runtime.